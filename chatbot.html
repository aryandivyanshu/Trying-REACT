<!DOCTYPE html>
<html>
  <head>
    <title>Chat Bot</title>
  </head>
  <body>
    <div class="js-container"> </div>

    <script src="https://unpkg.com/supersimpledev@8.6.4/external-library.js">

    </script>

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <script type="text/babel">
      
      function ChatInput() {
        return(
          <>
            <input placeholder="Send a message to ChatBot" size="30"/>
            <button>
              prompt
            </button>
          </>
        );
      }

      function ChatMessage(props) { //MAIN TEMPLATE
        // you can directly do  function ChatMessage({message, sender}) and remove bottom two lines as props shortcut
        const message = props.message
        const sender = props.sender
        /*
        if (sender === 'robot') {
            return (
                <div>
                  <img src="robot.png" width="50" />
                  {message} 
                </div>
        );
        }
        */
        return (
               <div>
                {sender === 'robot' && <img src ="robot.png" width="50" />}
                {message}
                {sender === 'user' && <img src="user.png" width="50" />}
                
               </div>
        );


      }

      function ChatMessages() {

        const ChatMessages = [
          {
            message: 'hallo chatbot',
            sender: 'user',
            key:'id1'
          }, {
            message:'hi user',
            sender: 'robot',
            key:'id2'
          }, {
            message:'ssup nigga',
            sender:'user',
            key:'id3'
          }, {
            message:'pls be respectful w language',
            sender:'robot',
            key:'id4'
          }
        ];

          return(
            <>
              {
                ChatMessages.map((chatMessage) => { // (chatMessages) is argument of each object of Array named ChatMessages jo uppar hai
                //map() function takes all elements of an array and allows operations to be performed on each element 

              
                    return(
                      <ChatMessage message={chatMessage.message} //ChatMessage argument passed object as parameter, from that obj extracting message
                                  sender={chatMessage.sender} //ChatMessage argument passed object as parameter, from that obj extracting sender
                                  key = {chatMessage.key}
                      />
                      // a compnent is being genrated with message and sender props, many componets will be gen in the end of loop

                      // Generating <ChatMessage prop=" " prop=" " /> Components using programming now

                      /*Component w specific props will get genrated and then it will go to the original MAIN TEMPLATE by matching w 
                      literally name of of component/function above named function ChatMessage(props) to ask what
                      html is to be genrated with this prop data  */
                      );
              
                }
          )
              }
            </>
          );
          // arrow function allows double function usage in one place, we r using return/output of prev operation here to produce another return
      
      
      }

      function App() { 
         
          return (
          <>
          <ChatInput />
          <ChatMessages />
          
          </>
          );

      }


    const container = document.querySelector('.js-container');
    ReactDOM.createRoot(container).render(<App />);
    </script>
  </body>
</html>